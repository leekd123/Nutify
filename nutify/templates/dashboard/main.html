{% extends "dashboard/base.html" %}

{% block content %}
<div class="page">
    <!-- Header Section -->

    <!-- Key Metrics Grid -->
    <div class="stats_grid">
        <!-- Battery Charge -->
        <div class="stat_card">
            <div class="stat-icon">
                <i class="fas fa-battery-three-quarters"></i>
            </div>
            <div class="stat-content">
                <div class="stat-header">
                    <span class="stat-label">Battery Charge</span>
                    <span class="selected-period">Now</span>
                </div>
                <span class="stat-value" data-type="battery">--</span>
            </div>
        </div>

        <!-- Runtime -->
        <div class="stat_card">
            <div class="stat-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-content">
                <div class="stat-header">
                    <span class="stat-label">Runtime Remaining</span>
                    <span class="selected-period">Now</span>
                </div>
                <span class="stat-value" data-type="runtime">--</span>
            </div>
        </div>

        <!-- Power Usage -->
        <div class="stat_card">
            <div class="stat-icon">
                <i class="fas fa-plug"></i>
            </div>
            <div class="stat-content">
                <div class="stat-header">
                    <span class="stat-label">Power Usage</span>
                    <span class="selected-period">Now</span>
                </div>
                <span class="stat-value" data-type="power">--</span>
            </div>
        </div>

        <!-- Load -->
        <div class="stat_card">
            <div class="stat-icon">
                <i class="fas fa-tachometer-alt"></i>
            </div>
            <div class="stat-content">
                <div class="stat-header">
                    <span class="stat-label">System Load</span>
                    <span class="selected-period">Now</span>
                </div>
                <span class="stat-value" data-type="load">--</span>
            </div>
        </div>
    </div>

    <!-- System Overview -->
    <div class="charts_grid">
        <!-- Combined Performance Chart -->
        <div class="chart_card performance-chart-card">
            <div class="chart_header">
                <h2>System Performance</h2>
            </div>
            <div class="chart_container">
                <canvas id="performanceChart"></canvas>
            </div>
        </div>
    </div>

    <!-- Bottom Grid -->
    <div class="bottom_grid">
        <!-- Recent Events -->
        <div class="combined_card">
            <div class="combined_header">
                <h2><i class="fas fa-history"></i> Recent Events</h2>
            </div>
            <div id="recentEvents" class="events-list"></div>
        </div>

        <!-- Active Alerts -->
        <div class="combined_card">
            <div class="combined_header">
                <h2><i class="fas fa-bell"></i> Active Alerts</h2>
            </div>
            <div id="activeAlerts" class="alerts-list"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/page_wrapper.js') }}"></script>
<script src="{{ url_for('static', filename='js/main_page.js') }}"></script>
{% endblock %}
